<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>UAS</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.8.1/font/bootstrap-icons.min.css"
    />
    <link rel="stylesheet" href="/stylesheets/css/index.css" />
    <link rel="stylesheet" href="/stylesheets/css/font.css" />
    <link rel="stylesheet" href="/stylesheets/css/style.css" />
    <link rel="stylesheet" href="/stylesheets/css/components.css" />
    <link rel="stylesheet" href="/stylesheets/css/Landingpage.css" />
    <style>
      .modal {
        display: none;
        position: fixed;
        top: calc(0% + 180px);
        right: -100%;
        left: auto;
        transform: translateY(-50%);
        padding: 1em;
        width: 80%;
        max-width: 400px;
        border-radius: 0.5em 0 0 0.5em;
        transition: right 0.5s ease;
      }
      .modal.active {
        display: block;
        right: 0;
      }

      .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 1px solid #dee2e6;
        padding-bottom: 0.5em;
      }
      .modal-header h5 {
        margin: 0;
      }
      .modal-body {
        margin-top: 1em;
      }
      .modal-body a {
        display: block;
        margin-bottom: 0.5em;
        color: #007bff;
        text-decoration: none;
      }
      .modal-body a:hover {
        text-decoration: underline;
      }
      .modal-close {
        cursor: pointer;
      }

      .modal-backdrop {
        display: none;
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        background-color: rgba(0, 0, 0, 0);
      }

      .modal-backdrop.active {
        display: block;
      }

      .hamburger-menu {
        display: none;
        cursor: pointer;
      }

      .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1em;
      }

      .header__logo {
        max-height: 50px;
      }

      .hamburger-menu {
        display: none;
        cursor: pointer;
      }

      @media (max-width: 768px) {
        .hamburger-menu {
          display: block;
        }

        .header__menu {
          display: none;
          flex-direction: column;
          align-items: flex-start;
          background-color: #fff;
          padding: 1em;
          position: absolute;
          top: 100%;
          left: 0;
          width: 100%;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
          z-index: 9999;
        }

        .header__actions {
          display: none;
          flex-direction: column;
          align-items: flex-start;
          background-color: #fff;
          padding: 1em;
          position: absolute;
          top: 100%;
          right: 0;
          width: 100%;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
          z-index: 9999;
        }

        .header__upload {
          display: block;
          margin-top: 1em;
        }

        .header__user-menu {
          display: block;
          margin-top: 1em;
        }

        .header__menu.show,
        .header__actions.show {
          display: flex;
        }
      }
    </style>
     </head>
     <body>
       <div class="landing-page">
         <header class="header">
           <a href="/users">
             <img
               src="/images/img_header_logo.png"
               alt="headerlogo"
               class="header__logo"
           /></a>
           <div class="hamburger-menu">
             <i class="bi bi-list" id="menuToggle"></i>
           </div>
           <ul class="header__menu">
             <li>
               <a href="#contacts"><p class="ui text size-s">Contact</p></a>
             </li>
             <li>
               <a href="#about"><p class="ui text size-s">About Us</p></a>
             </li>
             <li class="group">
               <div class="header__submenu">
                 <p class="ui text size-s">Kategori</p>
                 <i class="bi bi-chevron-down header__submenu-icon"></i>
               </div>
               <div class="group-1">
                 <div class="menu-container">
                   <div class="menu-group">
                     <% kategori.forEach((item) => { %>
                     <div class="menu">
                       <p class="mega-menu__title ui text">
                         <%= item.nama_kategori %>
                       </p>
                       <div class="menu-column"></div>
                     </div>
                     <% }); %>
                   </div>
                 </div>
               </div>
             </li>
             <li>
               <a href="/files"><p class="ui text size-s">Semua Dokumen</p></a>
             </li>
           </ul>
           <div class="header__actions">
             <div class="header__upload">
               <a href="/files/create" class="header__upload-link">
                 <i class="bi bi-upload header__upload-icon"></i>
                 <p class="header__upload-text ui text size-s">Unggah</p>
               </a>
             </div>
             <ul class="header__user-menu">
               <li>
                 <a href="#" id="emailLink"
                   ><p class="header__user-menu-item ui text size-xs">
                     <%= email %>
                   </p></a
                 >
               </li>
             </ul>
           </div>
         </header>
  <body>
    <h1>Riwayat Unduhan</h1>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Nama File</th>
          <th>Email Pengguna</th>
          <th>Tanggal</th>
          <th>Aksi</th>
        </tr>
      </thead>
      <tbody>
        <% records.forEach(record => { %>
        <tr>
          <td><%= record.id_file %></td>
          <td><%= record.nama_file %></td>
          <td><%= record.email %></td>
          <td><%= record.tanggal %>/<%= record.bulan %>/<%= record.tahun %></td>
          <td>
            <a href="/record/delete/<%= record.id %>">Hapus</a>
          </td>
        </tr>
        <% }); %>
      </tbody>
    </table>
    <a href="/file">Kembali ke Daftar File</a>
  </body>
</html>
